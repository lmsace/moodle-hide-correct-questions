{"version":3,"file":"hidecorrect.min.js","sources":["../src/hidecorrect.js"],"sourcesContent":["define(['jquery', 'core/str'], function($, Str) {\n\n    const hideSlots = (slots, uniqueid) => {\n\n        var responseForm = document.querySelector(\"form#responseform\");\n        var ques = document.querySelectorAll(\"#responseform .que\");\n        if (ques === null) {\n            return;\n        }\n\n        var count = 0; // Count of completed questions in current page.\n        slots.forEach(slot => {\n            var selector = '#question-' + uniqueid + '-' + slot;\n            var question = document.querySelector(\"#responseform \" + selector);\n            if (question !== null) {\n                count++;\n            }\n        });\n\n        // Display the info about all questions in this page are completed in previos attempt.\n        if (ques.length == count) {\n            var wrapper = document.createElement('div');\n            wrapper.classList.add('wrongquestion-completed-wrapper');\n\n            Str.get_string('pagequestioncompletes', 'quizaccess_hidecorrect').then((str) => {\n                var info = document.createElement('p');\n                info.classList.add('completed-previous-info');\n                info.textContent = str;\n\n                wrapper.appendChild(info);\n                responseForm.parentNode.insertBefore(wrapper, responseForm);\n                return;\n            }).fail();\n        }\n\n    };\n\n    return {\n\n        init: (slots, uniqueid, completed) => {\n            hideSlots(slots, uniqueid);\n\n            if (completed != '') {\n                var qnBlock = document.querySelector('#mod_quiz_navblock');\n                completed.forEach((id) => {\n                    var qnButton = qnBlock.querySelector('#quiznavbutton' + id);\n                    if (qnButton !== null) {\n                        qnButton.classList.remove('answersaved');\n                        qnButton.classList.add('correct');\n                    }\n                });\n            }\n        }\n    };\n});\n"],"names":["define","$","Str","init","slots","uniqueid","completed","responseForm","document","querySelector","ques","querySelectorAll","count","forEach","slot","selector","length","wrapper","createElement","classList","add","get_string","then","str","info","textContent","appendChild","parentNode","insertBefore","fail","hideSlots","qnBlock","id","qnButton","remove"],"mappings":"AAAAA,4CAAO,CAAC,SAAU,aAAa,SAASC,EAAGC,WAqChC,CAEHC,KAAM,CAACC,MAAOC,SAAUC,gBArCV,EAACF,MAAOC,gBAElBE,aAAeC,SAASC,cAAc,qBACtCC,KAAOF,SAASG,iBAAiB,yBACxB,OAATD,UAIAE,MAAQ,KACZR,MAAMS,SAAQC,WACNC,SAAW,aAAeV,SAAW,IAAMS,KAE9B,OADFN,SAASC,cAAc,iBAAmBM,WAErDH,WAKJF,KAAKM,QAAUJ,MAAO,KAClBK,QAAUT,SAASU,cAAc,OACrCD,QAAQE,UAAUC,IAAI,mCAEtBlB,IAAImB,WAAW,wBAAyB,0BAA0BC,MAAMC,UAChEC,KAAOhB,SAASU,cAAc,KAClCM,KAAKL,UAAUC,IAAI,2BACnBI,KAAKC,YAAcF,IAEnBN,QAAQS,YAAYF,MACpBjB,aAAaoB,WAAWC,aAAaX,QAASV,iBAE/CsB,UAQHC,CAAU1B,MAAOC,UAEA,IAAbC,UAAiB,KACbyB,QAAUvB,SAASC,cAAc,sBACrCH,UAAUO,SAASmB,SACXC,SAAWF,QAAQtB,cAAc,iBAAmBuB,IACvC,OAAbC,WACAA,SAASd,UAAUe,OAAO,eAC1BD,SAASd,UAAUC,IAAI"}